{"ast":null,"code":"import _asyncToGenerator from\"F:/apijwtfrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/apijwtfrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\apijwtfrontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),msg=_useState6[0],setMsg=_useState6[1];var history=useNavigate();var Auth=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post('http://localhost:5000/login',{email:email,password:password});case 4:history('/home');_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);// setMsg('password tdk sama');\nif(_context.t0.response){setMsg(_context.t0.response.data.msg);}case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function Auth(_x){return _ref.apply(this,arguments);};}();var Register=function Register(){history('/register');};return/*#__PURE__*/_jsx(\"section\",{className:\"hero has-background-grey-light is-fullheight is-fullwidth\",children:/*#__PURE__*/_jsx(\"div\",{className:\"hero-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"columns is-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"column is-4-desktop\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:Auth,className:\"box\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"has-text-centered\",children:msg}),/*#__PURE__*/_jsxs(\"div\",{className:\"field mt-5\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Email or Username\"}),/*#__PURE__*/_jsx(\"div\",{className:\"controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",placeholder:\"Username\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field mt-5\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"controls\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"input\",placeholder:\"*****\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field mt-5\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-success is-fullwidth\",children:\"Login\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button is-danger\",onClick:Register,children:\"Register\"})]})})})})});};export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","Login","email","setEmail","password","setPassword","msg","setMsg","history","Auth","e","preventDefault","post","response","data","Register","target","value"],"sources":["F:/apijwtfrontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [msg, setMsg] = useState('');\r\n    const history = useNavigate();\r\n\r\n    const Auth = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.post('http://localhost:5000/login', {\r\n                email: email,\r\n                password: password\r\n            });\r\n            history('/home');\r\n        } catch (error) {\r\n            // setMsg('password tdk sama');\r\n            if (error.response) {\r\n                setMsg(error.response.data.msg);\r\n            }\r\n        }\r\n    }\r\n\r\n    const Register = () => {\r\n        history('/register')\r\n    }\r\n\r\n    return (\r\n        <section className=\"hero has-background-grey-light is-fullheight is-fullwidth\">\r\n            <div className=\"hero-body\">\r\n                <div className=\"container\">\r\n                    <div className=\"columns is-centered\">\r\n                        <div className=\"column is-4-desktop\">\r\n                            <form onSubmit={Auth} className=\"box\">\r\n                                <p className='has-text-centered'>{msg}</p>\r\n                                <div className=\"field mt-5\">\r\n                                    <label className=\"label\">Email or Username</label>\r\n                                    <div className=\"controls\">\r\n                                        <input type=\"text\" className=\"input\" placeholder='Username' value={email} onChange={(e) => setEmail(e.target.value)} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field mt-5\">\r\n                                    <label className=\"label\">Password</label>\r\n                                    <div className=\"controls\">\r\n                                        <input type=\"password\" className=\"input\" placeholder='*****' value={password} onChange={(e) => setPassword(e.target.value)} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field mt-5\">\r\n                                    <button className=\"button is-success is-fullwidth\">Login</button>\r\n                                </div>\r\n                            </form>\r\n                            <button className=\"button is-danger\" onClick={Register}>Register</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"],"mappings":"8TAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAChB,cAA0BH,QAAQ,CAAC,EAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,eAAgCL,QAAQ,CAAC,EAAD,CAAxC,yCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAAsBP,QAAQ,CAAC,EAAD,CAA9B,yCAAOQ,GAAP,eAAYC,MAAZ,eACA,GAAMC,QAAO,CAAGR,WAAW,EAA3B,CAEA,GAAMS,KAAI,0FAAG,iBAAOC,CAAP,kHACTA,CAAC,CAACC,cAAF,GADS,sCAGCZ,MAAK,CAACa,IAAN,CAAW,6BAAX,CAA0C,CAC5CV,KAAK,CAAEA,KADqC,CAE5CE,QAAQ,CAAEA,QAFkC,CAA1C,CAHD,QAOLI,OAAO,CAAC,OAAD,CAAP,CAPK,+EASL;AACA,GAAI,YAAMK,QAAV,CAAoB,CAChBN,MAAM,CAAC,YAAMM,QAAN,CAAeC,IAAf,CAAoBR,GAArB,CAAN,CACH,CAZI,oEAAH,kBAAJG,KAAI,4CAAV,CAgBA,GAAMM,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnBP,OAAO,CAAC,WAAD,CAAP,CACH,CAFD,CAIA,mBACI,gBAAS,SAAS,CAAC,2DAAnB,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,qBAAf,wBACI,cAAM,QAAQ,CAAEC,IAAhB,CAAsB,SAAS,CAAC,KAAhC,wBACI,UAAG,SAAS,CAAC,mBAAb,UAAkCH,GAAlC,EADJ,cAEI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,SAAS,CAAC,OAAjB,+BADJ,cAEI,YAAK,SAAS,CAAC,UAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,OAA7B,CAAqC,WAAW,CAAC,UAAjD,CAA4D,KAAK,CAAEJ,KAAnE,CAA0E,QAAQ,CAAE,kBAACQ,CAAD,QAAOP,SAAQ,CAACO,CAAC,CAACM,MAAF,CAASC,KAAV,CAAf,EAApF,EADJ,EAFJ,GAFJ,cAQI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,SAAS,CAAC,OAAjB,sBADJ,cAEI,YAAK,SAAS,CAAC,UAAf,uBACI,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,OAAjC,CAAyC,WAAW,CAAC,OAArD,CAA6D,KAAK,CAAEb,QAApE,CAA8E,QAAQ,CAAE,kBAACM,CAAD,QAAOL,YAAW,CAACK,CAAC,CAACM,MAAF,CAASC,KAAV,CAAlB,EAAxF,EADJ,EAFJ,GARJ,cAcI,YAAK,SAAS,CAAC,YAAf,uBACI,eAAQ,SAAS,CAAC,gCAAlB,mBADJ,EAdJ,GADJ,cAmBI,eAAQ,SAAS,CAAC,kBAAlB,CAAqC,OAAO,CAAEF,QAA9C,sBAnBJ,GADJ,EADJ,EADJ,EADJ,EADJ,CA+BH,CAzDD,CA2DA,cAAed,MAAf"},"metadata":{},"sourceType":"module"}